<!DOCTYPE html>
<html>
<head>
	<title>Random Rubik's Cube Scramble Generator</title>
	<link rel="stylesheet" href="style.css">
</head>
<body>
	<button onclick="generateScramble()">New Scramble</button>
	<div id="scramble"></div>
	<label for="time-input">Enter your time:</label>
	<input type="number" id="time-input">
	<button onclick="saveTime()">Save Time</button>
	<p id="personal-best">Personal Best: N/A</p>
	<p id="scramble-history">Scramble History:</p>
	<p id="time-history">Time History:</p>

	<script>
		var personalBest = null;
		var scrambleHistory = [];
		var timeHistory = [];

		function generateScramble() {
			var moves = ["U", "D", "R", "L", "F", "B"];
			var suffix = ["", "'", "2"];
			var scramble = "";
			var lastMove = "";

			for (var i = 0; i < 20; i++) {
				var move = "";
				do {
					move = moves[Math.floor(Math.random() * moves.length)];
				} while (move.charAt(0) === lastMove.charAt(0));

				var moveSuffix = suffix[Math.floor(Math.random() * suffix.length)];
				scramble += move + moveSuffix + " ";
				lastMove = move;
			}

			document.getElementById("scramble").innerHTML = "Scramble: " + scramble;
			scrambleHistory.push(scramble);
			updateScrambleHistory();
		}

		function updateScrambleHistory() {
			var scrambleHistoryElement = document.getElementById("scramble-history");
			scrambleHistoryElement.innerHTML = "Scramble History:";
			for (var i = 0; i < scrambleHistory.length; i++) {
				scrambleHistoryElement.innerHTML += "<br>" + scrambleHistory[i];
			}
		}

		function saveTime() {
			var timeInput = document.getElementById("time-input");
			var time = parseFloat(timeInput.value);
			if (isNaN(time)) {
				alert("Please enter a valid time!");
				return;
			}

			if (personalBest === null || time < personalBest) {
				personalBest = time;
				document.getElementById("personal-best").innerHTML = "Personal Best: " + formatTime(personalBest);
			}

			timeHistory.push(time);
			updateTimeHistory();

			timeInput.value = "";
			generateScramble();
		}

		function formatTime(timeInSeconds) {
			if (timeInSeconds >= 60) {
				return "1 minute " + (timeInSeconds % 60).toFixed(2) + " seconds";
			} else {
				return timeInSeconds.toFixed(2) + " seconds";
			}
		}

		function updateTimeHistory() {
			var timeHistoryElement = document.getElementById("time-history");
			timeHistoryElement.innerHTML = "Time History:";
			for (var i = 0; i < timeHistory.length; i++) {
				timeHistoryElement.innerHTML += "<br>" + formatTime(timeHistory[i]) + " (" + scrambleHistory[i] + ")";
			}
		}
	</script>
</body>
</html>
